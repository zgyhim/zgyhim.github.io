<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uncle ç²‰ä¸ç¾¤ç¾¤è§„</title>
    <!-- ç™¾æµªæ¯oæ¸©é¦¨æç¤º:é¡µé¢ä»£ç éµå¾ªBSD3_æ–°å‘å¸ƒï¼Œæœªç»ç‰¹æ®Šè¯´æ˜çš„æ–‡æœ¬æŒ‰ç…§ [CC] åˆ›æ„å…±äº«-ç½²å-éå•†ä¸šä½¿ç”¨4.0 æˆæƒ -->
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&family=Product+Sans:wght@400;700&display=swap" rel="stylesheet">
    <!-- Google Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Marked.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Product Sans', 'Noto Sans SC', 'sans-serif'],
                    },
                    colors: {
                        surface: '#FDFCF4',
                        'surface-variant': '#E4E7D7',
                        primary: '#3F6A42',
                        'on-primary': '#FFFFFF',
                        'primary-container': '#C0EFBF',
                        'on-surface': '#1A1C18',
                        outline: '#73796E'
                    }
                }
            }
        }
    </script>
    <style>
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #E4E7D7; border-radius: 10px; }
        .md-content strong { color: #3F6A42; font-weight: 700; }
        .md-content a { color: #2a5a2d; text-decoration: underline; text-decoration-thickness: 2px; }
        .md-content ul { list-style-type: disc; padding-left: 1.2rem; margin-top: 0.5rem; }
        .md-content p { margin-bottom: 0.5rem; }
        .fade-in-up { animation: fadeInUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Modal Animation */
        .modal-enter { opacity: 0; transform: scale(0.95); pointer-events: none; }
        .modal-enter-active { opacity: 1; transform: scale(1); pointer-events: auto; transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .modal-exit { opacity: 0; transform: scale(0.95); pointer-events: none; transition: all 0.2s ease-in; }
    </style>
</head>
<body class="bg-surface text-on-surface min-h-screen selection:bg-primary-container selection:text-primary relative">

    <!-- ========================================== -->
    <!--          é…ç½®åŒºåŸŸ (JSON CONFIG)            -->
    <!--          actionType: "embed" (å¼¹çª—)       -->
    <!--          actionType: "link"  (è·³è½¬)       -->
    <!-- ========================================== -->
    <script id="app-config" type="application/json">
    {
        "header": {
            "title": "UncleåŸå…¥ç¾¤é¡»çŸ¥",
            "subtitle": "ç¥ä½ å¼€å¿ƒå–µ",
            "date": "2025-02-04 æ›´æ–°"
        },
        "intro": "æœ¬ç¾¤æ˜¯ Uncle åŸçš„ç²‰ä¸äº¤æµç¾¤å–µï¼\næ¡ç›®æ ¼å¼ï¼š**æè¿°**ï¼Œå¤‡æ³¨ä¸**å¤„ç†**ã€‚\nç¾¤è§„é™¤äº† a) ä»¥å¤–**å…¶ä½™éƒ½æ˜¯ç¦æ­¢äº‹é¡¹**ã€‚",
        "rules": [
            {
                "icon": "â˜•",
                "title": "a) åå’Œæ”¾å®½~",
                "content": "Relax and enjoy~ æ¬¢è¿å…‰ä¸´ï¼"
            },
            {
                "icon": "ğŸ¤",
                "title": "b) æ”¿æ²» / æ¶ä¿— / æ€§åˆ«å¯¹ç«‹",
                "content": "æ¶‰åŠå›½å†…å¤–æ”¿æ²»è¨€è®ºã€ç”·å¥³æƒå†…å®¹ã€æ¶ä¿—ã€LGBT ç±»çš„è¯é¢˜ã€‚\n- æ¶ä¿—åŒ…å«äººè‚‰æœç´¢ã€è·å–å…¬å¼€ä¸ªäººä¿¡æ¯å–ä¹\n- ä¸è¦å‘ç›´æ¥å…³äºç”·å¨˜ã€è¯å¨˜çš„è¯é¢˜\n- **å¤„ç†**ï¼šç¦è¨€ã€å›½å†…æ”¿æ²»/ç”·å¥³æƒç­‰72å°æ—¶èµ·æ­¥ï¼Œæœ€é«˜é»‘åå•"
            },
            {
                "icon": "ğŸ”",
                "title": "c) è‰²æƒ… / æš´åŠ› / è¿æ³•",
                "content": "æ¶‰åŠè‰²æƒ…ã€æš´åŠ›ã€è¡€è…¥åŠç±»ä¼¼ç‰©ã€è¯ç‰©æˆç˜¾ã€è‡ªæ®‹ã€è‡ªæ€ç­‰æœ‰å®³äºå…¬åºè‰¯ä¿—çš„å†…å®¹ã€‚\n- **å¤„ç†**ï¼šç›´æ¥é»‘åå•\n- _O_o å¥½æ€ªå•Šï¼Œå†çœ‹ä¸€çœ¼ o_O"
            },
            {
                "icon": "ğŸ“¢",
                "title": "d) å¹¿å‘Š / æ¨å¹¿",
                "content": "ç¾¤å‘å¹¿å‘Šå”®å–èµ„æºï¼Œæ¨å¹¿æ€§å®£ä¼ ã€å¹¿å‘Šç¾¤é‚€è¯·ã€‚\n- åŒ…æ‹¬ AFF/æ‹‰äººå¤´\n- éœ€å…ˆå¾å¾—ç®¡ç†åŒæ„ï¼Œåˆ·å±ä»é‡\n- **å¤„ç†**ï¼šç¬¬ä¸€æ¬¡æ’¤å›å¹¶è­¦å‘Šï¼Œç¬¬äºŒæ¬¡24å°æ—¶åŠä»¥ä¸Šç¦è¨€ï¼Œç¬¬ä¸‰æ¬¡é»‘åå•"
            },
            {
                "icon": "ğŸ®",
                "title": "e) ä½œå¼Š / ç°äº§",
                "content": "è®¨è®ºè”æœºåŠå¯¹æŠ—æ¸¸æˆå¼€æŒ‚ã€ä¹°å–ç°äº§éæ³•ç›¸å…³çš„ã€‚\n- ç¾¤å†…å”®å–æ”¶è´­è´¦å·/è½¯ä»¶ç­‰æœåŠ¡çš„æŒ‰å¹¿å‘Šå¤„ç†\n- **å¤„ç†**ï¼š24å°æ—¶ç¦è¨€èµ·æ­¥"
            },
            {
                "icon": "ğŸ¤¬",
                "title": "f) åˆ·å± / æ¶ä¿— / çƒ‚æ¢—",
                "content": "åˆ·å±çš„ã€æ¶ä¿—ç”¨è¯­ã€å¼€é»„è…”ã€ç‹‚åˆ·çƒ‚æ¢—çš„ã€‚\n- **æœ¬ç¾¤ç¦æ­¢é¬¼å›¾ã€é¾™å›¾ã€å¥¶é¾™å›¾**\n- **å¤„ç†**ï¼šé¾™å›¾/å¥¶é¾™å›¾ 1å°æ—¶ç¦è¨€ï¼Œé¬¼å›¾ 12å°æ—¶ç¦è¨€ï¼Œå…¶ä½™ 24å°æ—¶ç¦è¨€èµ·æ­¥"
            },
            {
                "icon": "ğŸš«",
                "title": "g) ç§ä¿¡éªšæ‰° / è§’è‰²æ‰®æ¼”",
                "content": "ç§ä¿¡éªšæ‰°ï¼Œå¹¿å‘Šï¼Œå”®å–ï¼Œéå¸¸è§„è§’è‰²æ‰®æ¼”ç­‰å¹¶è¢«æ˜ç¡®æ‹’ç»çš„ã€‚\n- å—ç†ä»…é™è¢«éªšæ‰°äººä¸¾æŠ¥ï¼Œæä¾›å®Œæ•´èŠå¤©è®°å½•\n- **å¤„ç†**ï¼šé»‘åå•"
            },
            {
                "icon": "ğŸ›¡ï¸",
                "title": "h) æ”»å‡»ç®¡ç†åŠç¾¤ä¸»",
                "content": "æ”»å‡»ç®¡ç†ä»¥åŠç¾¤ä¸»çš„ã€‚\n- **å¤„ç†**ï¼š12å°æ—¶ç¦è¨€èµ·æ­¥è‡³é»‘åå•\n- _é‚£æˆ‘é—®ä½ é‚£æˆ‘é—®ä½ ï¼Œä½ æ²¡äº‹è·³è„¸ç¾¤ä¸»ç®¡ç†å¹²ä»€ä¹ˆ_"
            },
            {
                "icon": "ğŸ¦ ",
                "title": "i) æ¶æ„è½¯ä»¶ / ä»£ç ",
                "content": "å‘å¸ƒæ¶æ„è½¯ä»¶ï¼Œä»£ç ã€ç½‘å€å†…å®¹ï¼›æˆ–å‘äººæä¾›åˆ åº“å‘½ä»¤æ¶æ„è¯¯å¯¼çš„ã€‚\n- åŒ…å«ç»ç”±ç¬¬ä¸‰æ–¹ä¼ªé€ ä¸ºå®˜æ–¹çš„ json å¡ç‰‡ç­‰\n- **å¤„ç†**ï¼š6å°æ—¶ç¦è¨€èµ·æ­¥"
            },
            {
                "icon": "ğŸ˜µ",
                "title": "j) è¿‡åº¦æŠ½è±¡ / åœ°ç‹±ç¬‘è¯",
                "content": "è¿‡åº¦æŠ½è±¡è‡³ä½¿ä»–äººè¿·æƒ‘æˆ–æœ‰å®³èº«å¿ƒå¥åº·çš„ã€äººèº«æ”»å‡»çš„ã€‚\n- è¿‡äºå“ˆäººçš„ä¸‰æ¬¡å…ƒåœ°ç‹±ç¬‘è¯\n- ä¼ æ’­ç¤¾ä¼šè°£è¨€ï¼Œè®¨è®ºæµäºäººèº«æ”»å‡»çš„æŒ‰æ­¤æ¡ä»é‡å¤„ç†\n- **å¤„ç†**ï¼š12å°æ—¶ç¦è¨€èµ·æ­¥"
            },
            {
                "icon": "ğŸ¤–",
                "title": "k) æœªç»æˆæƒçš„BOT",
                "content": "é‚€è¯·æˆ–åœ¨æœ¬ç¾¤ç§è‡ªæ­å»ºå¯äº’åŠ¨ç±» Bot çš„ã€‚\n- å¦‚çœŸæœ‰å¿…è¦è¯·å…ˆå¾é›†ç¾¤ä¸»åŠæ‰€æœ‰ç®¡ç†å‘˜çš„åŒæ„\n- **å¤„ç†**ï¼šè¢«é‚€è¯·è€…(Bot)é»‘åå•ï¼Œé‚€è¯·è€… 24å°æ—¶ç¦è¨€èµ·æ­¥"
            }
        ],
        "tips": {
            "title": "ğŸ’¡ å°æç¤º & ç®¡ç†é¡»çŸ¥",
            "items": [
                "NoN NSFW",
                "è§†æƒ…å†µè€Œå®š:é¦–æ¬¡è­¦å‘Š â†’ ç¦è¨€ â†’ é»‘åå•",
                "ç¾¤è§„é‡Œæ²¡å†™æ˜çš„è¯·å…ˆé—®ç®¡ç†/ç¾¤ä¸»",
                "æ•´æ´»è¯·é¢„å…ˆå’Œç®¡ç†æ²Ÿé€š",
                "affå¹¿å‘Šè¯·å–å¾—è®¸å¯",
                "ç¾¤è§„é•¿æœŸæ¥å—æ„è§ï¼Œè§£é‡Šæƒå½’ç¾¤ä¸»åŠç®¡ç†å‘˜æ‰€æœ‰"
            ]
        },
        "footer": {
            "buttonText": "å””å·²åŒæ„ï¼Œå¼€æ‰£",
            "countdown": 5,
            "actionType": "embed",
            "url": "https://002227.xyz/pow.html",
            "links": [
                {
                    "text": "å…¶ä»–",
                    "url": "uuz.html"
                },
                {
                    "text": "BSD",
                    "url": "https://002227.xyz/LICENSE"
                },
                {
                    "text": "CCæˆæƒ",
                    "url": "https://002227.xyz/TEXT-LICENSE"
                }
            ]
        }
    }
    </script>
    <!-- ========================================== -->

    <div id="app" class="max-w-md mx-auto p-4 md:p-6 pb-32">
        <!-- Content will be injected here -->
    </div>

    <!-- Modal Container -->
    <div id="embed-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 modal-enter bg-black/60 backdrop-blur-sm hidden">
        <div class="bg-surface w-full max-w-lg h-[80vh] rounded-[28px] shadow-2xl flex flex-col overflow-hidden ring-1 ring-white/20">
            <!-- Modal Header -->
            <div class="px-6 py-4 flex items-center justify-between border-b border-outline/10 bg-surface">
                <h3 class="font-medium text-lg text-on-surface">éªŒè¯ / åŠ å…¥ç¾¤èŠ</h3>
                <button onclick="closeModal()" class="w-10 h-10 rounded-full hover:bg-surface-variant flex items-center justify-center transition-colors">
                    <span class="material-symbols-rounded text-outline">close</span>
                </button>
            </div>
            <!-- Modal Body (Iframe) -->
            <div class="flex-1 bg-surface-variant/20 relative">
                <iframe id="target-iframe" src="" class="w-full h-full border-0" allow="clipboard-read; clipboard-write"></iframe>
                <!-- Loading indicator -->
                <div id="iframe-loader" class="absolute inset-0 flex items-center justify-center pointer-events-none">
                    <span class="material-symbols-rounded animate-spin text-primary text-3xl">progress_activity</span>
                </div>
            </div>
            <!-- Modal Footer -->
            <div class="px-6 py-3 border-t border-outline/10 bg-surface flex justify-end">
                <button onclick="closeModal()" class="text-primary font-medium px-4 py-2 hover:bg-primary-container/30 rounded-full transition-colors">
                    å…³é—­
                </button>
            </div>
        </div>
    </div>

    <script>
        // Modal Functions
        function openModal(url) {
            const modal = document.getElementById('embed-modal');
            const iframe = document.getElementById('target-iframe');
            const loader = document.getElementById('iframe-loader');
            
            iframe.src = url;
            // Show loader until load
            loader.style.display = 'flex';
            iframe.onload = () => {
                loader.style.display = 'none';
            };

            modal.classList.remove('hidden');
            // Trigger animation frame
            requestAnimationFrame(() => {
                modal.classList.remove('modal-enter');
                modal.classList.add('modal-enter-active');
            });
        }

        function closeModal() {
            const modal = document.getElementById('embed-modal');
            const iframe = document.getElementById('target-iframe');
            
            modal.classList.remove('modal-enter-active');
            modal.classList.add('modal-exit');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                modal.classList.remove('modal-exit');
                modal.classList.add('modal-enter');
                iframe.src = ''; // Stop video/loading
            }, 200);
        }

        // Close on clicking outside
        document.getElementById('embed-modal').addEventListener('click', (e) => {
            if (e.target.id === 'embed-modal') closeModal();
        });

        document.addEventListener('DOMContentLoaded', () => {
            const configElement = document.getElementById('app-config');
            let config;
            try {
                config = JSON.parse(configElement.textContent);
            } catch (e) {
                document.getElementById('app').innerHTML = `<div class="p-4 bg-red-100 text-red-600">JSON æ ¼å¼é”™è¯¯</div>`;
                return;
            }

            const app = document.getElementById('app');
            let htmlContent = '';

            // æ¸²æŸ“å¤´éƒ¨
            htmlContent += `
                <header class="mb-6 pt-8 fade-in-up">
                    <div class="inline-block px-4 py-1.5 mb-3 rounded-full border border-outline/20 text-sm font-medium tracking-wide text-outline">
                        ${config.header.date}
                    </div>
                    <h1 class="text-4xl md:text-5xl font-normal tracking-tight mb-2 text-on-surface leading-tight">
                        ${config.header.title}
                    </h1>
                    <p class="text-lg text-outline font-light ml-1">
                        ${config.header.subtitle}
                    </p>
                </header>
            `;

            // æ¸²æŸ“ç®€ä»‹
            if (config.intro) {
                const parsedIntro = marked.parse(config.intro);
                htmlContent += `
                    <div class="bg-primary/5 border border-primary/10 rounded-2xl p-4 mb-6 fade-in-up text-primary-900 text-sm leading-relaxed" style="animation-delay: 50ms">
                         ${parsedIntro}
                    </div>
                `;
            }

            // æ¸²æŸ“è§„åˆ™
            htmlContent += `<div class="space-y-3">`;
            config.rules.forEach((rule, index) => {
                const parsedContent = marked.parse(rule.content);
                const delay = (index + 1) * 50;
                htmlContent += `
                    <div class="group relative bg-surface-variant/50 hover:bg-surface-variant/80 transition-all duration-300 rounded-[24px] p-5 fade-in-up overflow-hidden" style="animation-delay: ${delay}ms">
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0 w-10 h-10 flex items-center justify-center bg-white rounded-xl text-xl shadow-sm mt-1">
                                ${rule.icon}
                            </div>
                            <div class="flex-1 min-w-0">
                                <h3 class="text-lg font-bold text-on-surface mb-1">${rule.title}</h3>
                                <div class="md-content text-sm text-outline leading-relaxed opacity-90">
                                    ${parsedContent}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            htmlContent += `</div>`;

            // æ¸²æŸ“å°æç¤º
            if (config.tips) {
                const tipsList = config.tips.items.map(item => `<li class="mb-1">${item}</li>`).join('');
                htmlContent += `
                    <div class="mt-6 bg-[#EBEBD3] rounded-[24px] p-6 fade-in-up text-[#47483B]" style="animation-delay: 800ms">
                        <h4 class="font-bold mb-3 flex items-center gap-2">
                            ${config.tips.title}
                        </h4>
                        <ul class="list-disc pl-4 text-sm space-y-1 opacity-80">
                            ${tipsList}
                        </ul>
                    </div>
                `;
            }

            // æ¸²æŸ“åº•éƒ¨æŒ‰é’®
            if (config.footer) {
                const hasCountdown = config.footer.countdown && config.footer.countdown > 0;
                const initialText = hasCountdown ? `${config.footer.buttonText} (${config.footer.countdown}s)` : config.footer.buttonText;
                
                const initialDisabledClass = hasCountdown ? 'bg-gray-400 cursor-not-allowed text-white/80' : 'bg-primary text-on-primary shadow-lg hover:shadow-xl';
                const initialDisabledAttr = hasCountdown ? 'disabled' : '';

                // å†³å®šç‚¹å‡»åŠ¨ä½œ
                let clickAction = '';
                if (config.footer.actionType === 'embed' && config.footer.url) {
                    clickAction = `openModal('${config.footer.url}')`;
                } else if (config.footer.url) {
                    clickAction = `window.location.href='${config.footer.url}'`;
                } else {
                    clickAction = `alert('æ„Ÿè°¢é˜…è¯»ï¼Œè¯·éµå®ˆç¾¤è§„ï¼')`;
                }

                // å¤„ç†å¤šé“¾æ¥
                let footerLinksHtml = '';
                if (config.footer.links && Array.isArray(config.footer.links)) {
                    footerLinksHtml = config.footer.links.map(link => {
                        if (link.url && link.url.trim() !== "") {
                            return `<a href="${link.url}" target="_blank" class="underline decoration-dotted hover:text-primary transition-colors">${link.text}</a>`;
                        } else {
                            return `<span class="cursor-default">${link.text}</span>`;
                        }
                    }).join('<span class="mx-2 opacity-40 select-none">â€¢</span>');
                } else if (config.footer.text) {
                    footerLinksHtml = `<span>${config.footer.text}</span>`;
                }

                htmlContent += `
                    <div class="fixed bottom-6 left-0 right-0 px-4 flex justify-center fade-in-up" style="animation-delay: 900ms; z-index: 50;">
                        <button id="agree-btn" 
                            onclick="${clickAction}" 
                            ${initialDisabledAttr}
                            class="${initialDisabledClass} font-medium text-lg px-8 py-4 rounded-full 
                                   transition-all active:scale-95 flex items-center gap-2">
                            <span id="btn-icon" class="material-symbols-rounded text-xl ${hasCountdown ? 'hidden' : ''}">check</span>
                            <span id="btn-text">${initialText}</span>
                        </button>
                    </div>
                    <div class="text-center mt-8 mb-24 text-xs text-outline/60 fade-in-up flex justify-center flex-wrap gap-y-2 px-6" style="animation-delay: 1000ms;">
                        ${footerLinksHtml}
                    </div>
                `;
            }

            app.innerHTML = htmlContent;

            // å€’è®¡æ—¶é€»è¾‘
            const countdownSeconds = config.footer.countdown;
            if (countdownSeconds && countdownSeconds > 0) {
                let timeLeft = countdownSeconds;
                const btn = document.getElementById('agree-btn');
                const btnText = document.getElementById('btn-text');
                const btnIcon = document.getElementById('btn-icon');

                const timer = setInterval(() => {
                    timeLeft--;
                    if (timeLeft > 0) {
                        btnText.innerText = `${config.footer.buttonText} (${timeLeft}s)`;
                    } else {
                        clearInterval(timer);
                        btn.disabled = false;
                        btnText.innerText = config.footer.buttonText;
                        btnIcon.classList.remove('hidden');
                        btn.classList.remove('bg-gray-400', 'cursor-not-allowed', 'text-white/80');
                        btn.classList.add('bg-primary', 'text-on-primary', 'shadow-lg', 'hover:shadow-xl', 'animate-bounce');
                        setTimeout(() => btn.classList.remove('animate-bounce'), 1000);
                    }
                }, 1000);
            }
        });
    </script>
</body>
</html>
